<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Bodega</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script defer src="js/script.js"></script>
</head>

<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="logo">
        <i class="fas fa-warehouse"></i> BodegaPro
      </div>
      <nav role="navigation" aria-label="Menú principal">
        <ul>
          <li class="active"><a href="#" data-section="inventario"><i class="fas fa-boxes"></i> Inventario</a></li>
          <li><a href="#" data-section="entrada"><i class="fas fa-sign-in-alt"></i> Entrada de productos</a>
          </li>
          <li><a href="#" data-section="salida"><i class="fas fa-sign-out-alt"></i> Salida de productos</a>
          </li>
          <li><a href="#" data-section="reportes"><i class="fas fa-chart-bar"></i> Reportes</a></li>
          <li><a href="#" data-section="usuarios"><i class="fas fa-users"></i> Usuarios</a></li>
          <li><a href="#" data-section="configuracion"><i class="fas fa-cog"></i> Configuración</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <header class="header">
        <h1>
          <span id="header-title">Inventario</span>
        </h1>
        <div class="search-wrapper">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Buscar..." class="search-bar">
        </div>
        <div class="header-icons">
          <span class="notification">
            <i class="fas fa-bell"></i>
          </span>
          <div class="profile">
            <i class="fas fa-user"></i> Marlon Miranda <i class="fas fa-caret-down"></i>
          </div>
        </div>
      </header>

      <div id="content-area">
        <!-- El contenido de las secciones se cargará aquí -->
      </div>
    </main>
  </div>

  <!-- Modal reutilizable -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-content">
      <span id="modalClose" class="modal-close" tabindex="0" aria-label="Cerrar">&times;</span>
      <h2 id="modalTitle"></h2>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const menuLinks = document.querySelectorAll('aside.sidebar nav ul li a');
      const contentArea = document.getElementById('content-area');
      const headerTitle = document.getElementById('header-title');

      menuLinks.forEach(link => {
        link.addEventListener('click', function (event) {
          event.preventDefault();
          const section = this.dataset.section;

          // Remover clase 'active' de todos los links
          menuLinks.forEach(link => link.parentNode.classList.remove('active'));
          // Agregar clase 'active' al link actual
          this.parentNode.classList.add('active');

          // Cargar contenido basado en la sección
          let url = '';
          let title = '';
          switch (section) {
            case 'inventario':
              url = 'inventario.html';
              title = 'Inventario Mayoreo';
              break;
            case 'entrada':
              url = 'entrada.html';
              title = 'Entrada de productos';
              break;
            case 'salida':
              url = 'salida.html';
              title = 'Salida de productos';
              break;
            case 'reportes':
              url = 'reportes.html';
              title = 'Reportes';
              break;
            case 'usuarios':
              url = 'usuarios.html';
              title = 'Usuarios';
              break;
            case 'configuracion':
              url = 'configuracion.html';
              title = 'Configuración';
              break;
            default:
              url = 'inventario.html';
              title = 'Inventario';
          }

          // Actualizar el título del header
          headerTitle.textContent = title;

          fetch(url)
            .then(response => response.text())
            .then(data => {
              contentArea.innerHTML = data;
            })
            .catch(error => {
              contentArea.innerHTML = '<p>Error al cargar la sección.</p>';
            });
        });
      });

      // Cargar el inventario por defecto al cargar la página
      document.querySelector('aside.sidebar nav ul li.active a').click();
    });
  </script>
</body>

</html>
